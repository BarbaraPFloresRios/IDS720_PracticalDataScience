# counties with lots of drug arrests in 2009
high_drug_arrests_violent_arrest_change_mean = (
    ca_arrests_2009_2018_high_drug_arrests_2009["violent_arrest_change"].mean()
)

# counties with few drug arrests in 2009
low_drug_arrests_violent_arrest_change_mean = (
    ca_arrests_2009_2018_low_drug_arrests_2009["violent_arrest_change"].mean()
)

ex21_diffindiff = (
    high_drug_arrests_violent_arrest_change_mean
    - low_drug_arrests_violent_arrest_change_mean
)
results["ex21_diffindiff"] = ex21_diffindiff


print(
    f"After analyzing the data, it appears that violent crime changed more from 2009 to 2018 in counties with a high number of drug arrests\n"
    f"compared to counties with fewer drug arrests. The estimated difference-in-difference in violent crime rate per capita is {ex21_diffindiff:.5f}.\n"
    f"With counties having a high number of drug arrests showing an average change in crime per capita of {high_drug_arrests_violent_arrest_change_mean:.5f}, "
    f"while those with fewer\ndrug arrests exhibited an average change of {low_drug_arrests_violent_arrest_change_mean:.5f}"
)